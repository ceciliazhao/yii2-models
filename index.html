<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>yii2-models by vistart</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header class="without-description">
        <h1>yii2-models</h1>
        <p></p>
        <p class="view"><a href="https://github.com/vistart/yii2-models">View the Project on GitHub <small>vistart/yii2-models</small></a></p>
        <ul>
          <li><a href="https://github.com/vistart/yii2-models/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/vistart/yii2-models/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/vistart/yii2-models">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="models-for-yii-2" class="anchor" href="#models-for-yii-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Models for Yii 2</h1>

<p>This extension provide a BaseEntityModel.</p>

<p><a href="https://packagist.org/packages/vistart/yii2-models"><img src="https://poser.pugx.org/vistart/yii2-models/v/stable" alt="Latest Stable Version"></a>
<a href="https://packagist.org/packages/vistart/yii2-models"><img src="https://poser.pugx.org/vistart/yii2-models/downloads" alt="Total Downloads"></a>
<a href="https://packagist.org/packages/vistart/yii2-models"><img src="https://poser.pugx.org/vistart/yii2-models/d/monthly" alt="Monthly Downloads"></a>
<a href="https://packagist.org/packages/vistart/yii2-models"><img src="https://poser.pugx.org/vistart/yii2-models/d/daily" alt="Daily Downloads"></a>
<a href="https://packagist.org/packages/vistart/yii2-models"><img src="https://poser.pugx.org/vistart/yii2-models/v/unstable" alt="Latest Unstable Version"></a>
<a href="https://packagist.org/packages/vistart/yii2-models"><img src="https://poser.pugx.org/vistart/yii2-models/license" alt="License"></a></p>

<p>The BaseEntityModel would help you to fill the following attribute(s) automatically:</p>

<ul>
<li>GUID</li>
<li>ID</li>
<li>createdAt and updatedAt</li>
<li>IP address</li>
</ul>

<p>Please see detailed usage in the comments of code.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>The preferred way to install this extension is through <a href="http://getcomposer.org/download/">composer</a>.</p>

<p>Either run</p>

<pre><code>php composer.phar require --prefer-dist vistart/yii2-models "*"
</code></pre>

<p>or add</p>

<pre><code>"vistart/yii2-models": "*"
</code></pre>

<p>to the require section of your <code>composer.json</code> file.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Once the extension is installed, simply use it in your code by  :</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">vistart\Models\BaseEntityModel</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">Example</span> <span class="pl-k">extends</span> <span class="pl-e">BaseEntityModel</span></span>
<span class="pl-s1">{</span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string The GUID attribute name. This property is REQUIRED, because </span></span>
<span class="pl-s1"><span class="pl-c">     * we believe that this property corresponds to the primary key in the </span></span>
<span class="pl-s1"><span class="pl-c">     * database.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$guidAttribute</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Your GUID Attribute Name<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string The ID attribute name. This property is OPTIONAL, if you do</span></span>
<span class="pl-s1"><span class="pl-c">     * not want to use this feature, please set it to false.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$idAttribute</span> <span class="pl-k">=</span> <span class="pl-c1">false</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> integer The length of id attribute value. This property is OPTIONAL.</span></span>
<span class="pl-s1"><span class="pl-c">     * If you set $idAttribute to false, this property will be ignored.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$idAttributeLength</span> <span class="pl-k">=</span> <span class="pl-c1">4</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string the attribute that will receive datetime value</span></span>
<span class="pl-s1"><span class="pl-c">     * Set this property to false if you do not want to record the creation time.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$createdAtAttribute</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Your createdAt Attribute Name<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string the attribute that will receive datetime value.</span></span>
<span class="pl-s1"><span class="pl-c">     * Set this property to false if you do not want to record the update time.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$updatedAtAttribute</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Your updatedAt Attribute Name<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> boolean Determine to enable the IP address feature. The default</span></span>
<span class="pl-s1"><span class="pl-c">     * value of this property is true, if you do not want to use this feature, </span></span>
<span class="pl-s1"><span class="pl-c">     * please set it to false, then the five subsequence properties and </span></span>
<span class="pl-s1"><span class="pl-c">     * correspoding validation rules will be ignored.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$enableIP</span> <span class="pl-k">=</span> <span class="pl-c1">true</span><span class="pl-k">.</span></span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string The attribute name that will receive the beginning 32 bits of</span></span>
<span class="pl-s1"><span class="pl-c">     * IPv6, or 0 of IPv4.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$ipAttribute1</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Your IP_1 Attribute Name<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string The attribute name that will receive the 33 - 64 bits of IPv6,</span></span>
<span class="pl-s1"><span class="pl-c">     * or 0 of IPv4.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$ipAttribute2</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Your IP_2 Attribute Name<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string The attribute name that will receive the 65 - 96 bits of IPv6,</span></span>
<span class="pl-s1"><span class="pl-c">     * or 0 of IPv4.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$ipAttribute3</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Your IP_3 Attribute Name<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string The attribute name that will receive the last 32 bits of IPv6,</span></span>
<span class="pl-s1"><span class="pl-c">     * or IPv4.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$ipAttribute4</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Your IP_4 Attribute Name<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string The attribute name that will receive the type of IP address.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$ipTypeAttribute</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Your IP type Attribute Name<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * This method has been implemented in BaseEntityModel, if you want to add </span></span>
<span class="pl-s1"><span class="pl-c">     * validation rule(s), please implement your own rules array first, and </span></span>
<span class="pl-s1"><span class="pl-c">     * merge the parent's and your's, then return it, DO NOT override it directly.</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> array Validation rules.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">rules</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-smi">$rules</span> <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>Your Rules<span class="pl-pds">'</span></span>];</span>
<span class="pl-s1">        <span class="pl-k">return</span> <span class="pl-c1">array_merge</span>(<span class="pl-k">parent</span><span class="pl-k">::</span>rules(), <span class="pl-smi">$rules</span>);</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * This method has been implemented in BaseEntityModel, if you want to add</span></span>
<span class="pl-s1"><span class="pl-c">     * behaviors, please implement your own behaviors array first, and merge</span></span>
<span class="pl-s1"><span class="pl-c">     * the parent's and your's, then return it, DO NOT override it directly.</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@return</span> array Behaviors.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">behaviors</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-smi">$behaviors</span> <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>Your Behaviors<span class="pl-pds">'</span></span>];</span>
<span class="pl-s1">        <span class="pl-k">return</span> <span class="pl-c1">array_merge</span>(<span class="pl-k">parent</span><span class="pl-k">::</span>behaviors(), <span class="pl-smi">$behaviors</span>);</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * This method has been implemented in BaseEntityModel, please DO NOT </span></span>
<span class="pl-s1"><span class="pl-c">     * override it.</span></span>
<span class="pl-s1"><span class="pl-c">     * This method does not return a value.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">protected</span> <span class="pl-k">function</span> <span class="pl-en">initDefaultValues</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>Initialize attributes...<span class="pl-pds">'</span></span></span>
<span class="pl-s1">        <span class="pl-k">parent</span><span class="pl-k">::</span>initDefaultValues();</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"><span class="pl-k">...</span></span>
<span class="pl-s1">}</span></pre></div>

<p>If you have some ActiveRecord need to be blamed, mayby you are interested in BaseBlameableEntityModel, the basic usage is following:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">Example</span> <span class="pl-k">extends</span> <span class="pl-e">BaseBlameableEntityModel</span></span>
<span class="pl-s1">{</span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string the attribute that will receive current user's GUID value.</span></span>
<span class="pl-s1"><span class="pl-c">     * Set this property to false if you do not want to record the creator ID.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$createdByAttribute</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>user_uuid<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string the attribute that will receive current user's GUID value.</span></span>
<span class="pl-s1"><span class="pl-c">     * Set this property to false if you do not want to record the updater ID.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$updatedByAttribute</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>updater_uuid<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string the attribute that specify the name of id of </span></span>
<span class="pl-s1"><span class="pl-c">     * Yii::$app-&gt;user-&gt;identity.</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$identityUuidAttribute</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>user_uuid<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">// the usage of rules(), behaviors, and initDefaultValues() are same as </span></span>
<span class="pl-s1">    <span class="pl-c">// those of BaseEntityModel.</span></span>
<span class="pl-s1">}</span></pre></div>

<h2>
<a id="contact-us" class="anchor" href="#contact-us" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contact Us</h2>

<p><a href="https://gitter.im/vistart/yii2-models?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/vistart/yii2-models"></a></p>

<p>If you have any problems or good ideas about yii2-models, please discuss there, or send an email to <a href="mailto:i@vistart.name">i@vistart.name</a>. Thank you!</p>

<p>If you want to send an email with your issues, please briefly introduce yourself first, for instance including your title and github homepage.</p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/vistart">vistart</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
